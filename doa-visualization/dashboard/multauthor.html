<!doctype html>
<meta charset="utf-8">

  <!-- load D3js -->
  <script src="/js/d3.js"></script>

  <!-- load D3plus after D3js -->
  <script src="/js/d3plus.js"></script>

<div id="viz"></div>



<script>
  var width = 650;
  var height = 400;   



 
    var appData;
    var dataset = [];
    d3.csv("new-doa-multauthor.csv", function(data) {
        appData = data;
        //id,repository,language,selectedfiles,nummult05,nummult06,nummult07,nummult081
        
        dataset = dataset.concat(data.map(function(d) { return {"id" : "20", "language": d.language, "repository" : d.repository.replace("/","-"), "value" :                                                                         parseFloat(((d.nummult02/d.selectedfiles)*100).toFixed(2))} 
                                        }));
        dataset = dataset.concat(data.map(function(d) { return {"id" : "30", "language": d.language, "repository" : d.repository.replace("/","-"), "value" :                                                                         parseFloat(((d.nummult03/d.selectedfiles)*100).toFixed(2))} 
                                        }));
        dataset = dataset.concat(data.map(function(d) { return {"id" : "40", "language": d.language, "repository" : d.repository.replace("/","-"), "value" :                                                                         parseFloat(((d.nummult04/d.selectedfiles)*100).toFixed(2))} 
                                        }));
        dataset = dataset.concat(data.map(function(d) { return {"id" : "50", "language": d.language, "repository" : d.repository.replace("/","-"), "value" :                                                                         parseFloat(((d.nummult05/d.selectedfiles)*100).toFixed(2))} 
                                        }));
        dataset = dataset.concat(data.map(function(d) { return {"id" : "60", "language": d.language, "repository" : d.repository.replace("/","-"), "value" :                                                                         parseFloat(((d.nummult06/d.selectedfiles)*100).toFixed(2))} 
                                        }));
        dataset = dataset.concat(data.map(function(d) { return {"id" : "70", "language": d.language, "repository" : d.repository.replace("/","-"), "value" :                                                                         parseFloat(((d.nummult07/d.selectedfiles)*100).toFixed(2))} 
                                        }));
        dataset = dataset.concat(data.map(function(d) { return {"id" : "80", "language": d.language, "repository" : d.repository.replace("/","-"), "value" :                                                                         parseFloat(((d.nummult08/d.selectedfiles)*100).toFixed(2))} 
                                        }));
        dataset = dataset.concat(data.map(function(d) { return {"id" : "90", "language": d.language, "repository" : d.repository.replace("/","-"), "value" :                                                                         parseFloat(((d.nummult09/d.selectedfiles)*100).toFixed(2))} 
                                        }));
        var visualization = d3plus.viz()
            .container("#viz")
            .data(dataset)
            .type("box")
            .zoom({"scroll":true, "pan":true, "click":true})
            .id("repository")
            .x({"label":"DOA Threshold (%)", "value":"id"})
            .y({"label":"Files With Multiple Author (%)", "value": "value"})
            .width({"value": width})
            .height({"value": height})
            /*.ui([{ 
                "label": "Visualization Type",
                "method": "type", 
                "value": ["scatter","box"]
              }]) */
            .draw()
    
    
    });
</script>